<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Plateforme citoyenne de suivi transparent des engagements pr√©sidentiels du S√©n√©gal">
    <meta name="theme-color" content="#2a6d5d">
    <title>LE PROJET S√âN√âGAL | Suivi des Engagements Pr√©sidentiels</title>
    
    <!-- Preconnect -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Crimson+Pro:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="https://projetbi.org/favicon.png">
    <link rel="apple-touch-icon" href="https://projetbi.org/favicon.png">
</head>
<body>
    <!-- Indicateur de progression -->
    <div class="progress-indicator" id="progressIndicator"></div>

    <!-- ===== NAVBAR ===== -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#" class="nav-logo">
                <div class="nav-logo-icon">üá∏üá≥</div>
                <span class="nav-logo-text">LE PROJET S√âN√âGAL</span>
            </a>
            
            <div class="nav-menu" id="navMenu">
                <a href="#header" class="nav-link active" data-section="header">
                    <i class="fas fa-chart-line"></i> 
                    <span>Dashboard</span>
                </a>
                <a href="#promises" class="nav-link" data-section="promises">
                    <i class="fas fa-tasks"></i> 
                    <span>Engagements</span>
                </a>
                <a href="#daily" class="nav-link" data-section="daily">
                    <i class="fas fa-calendar-day"></i> 
                    <span>Du Jour</span>
                </a>
                <a href="#news" class="nav-link" data-section="news">
                    <i class="fas fa-newspaper"></i> 
                    <span>Actualit√©s</span>
                </a>
                <a href="#press" class="nav-link" data-section="press">
                    <i class="fas fa-book"></i> 
                    <span>Presse</span>
                </a>
                <a href="#rating" class="nav-link" data-section="rating">
                    <i class="fas fa-star"></i> 
                    <span>Notation</span>
                </a>
                <a href="#rating-results" class="nav-link" data-section="rating-results">
                    <i class="fas fa-chart-bar"></i> 
                    <span>R√©sultats</span>
                </a>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <div class="container">
        <!-- ===== HEADER ===== -->
        <header class="header" id="header">
            <div class="header-background">
                <div class="header-pattern"></div>
            </div>
            <div class="header-content">
                <div class="header-badge">üá∏üá≥ R√©publique du S√©n√©gal</div>
                <h1 class="header-title">
                    <span class="title-main">LE PROJET</span>
                    <span class="title-sub">Pour un S√©n√©gal Souverain, Juste et Prosp√®re</span>
                </h1>
                <p class="subtitle">Plateforme Citoyenne de Suivi des Engagements Pr√©sidentiels</p>
                <div class="header-actions">
                    <div class="ref-badge">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Date de r√©f√©rence : 2 AVRIL 2024</span>
                    </div>
                    <a href="/programme-complet.pdf" target="_blank" class="pdf-link">
                        <i class="fas fa-file-pdf"></i>
                        <span>Programme Complet</span>
                    </a>
                </div>
            </div>
        </header>

        <!-- ===== KPI CAROUSEL ===== -->
        <section class="kpi-carousel-section">
            <div class="kpi-carousel-header">
                <h2 class="section-title">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Indicateurs Cl√©s</span>
                </h2>
                <div class="carousel-controls">
                    <button class="carousel-control-btn" id="kpiPrevBtn" aria-label="Pr√©c√©dent">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="carousel-control-btn carousel-play-pause" id="kpiPlayPauseBtn" aria-label="Lecture/Pause">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button class="carousel-control-btn" id="kpiNextBtn" aria-label="Suivant">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="kpi-carousel" id="kpiCarousel">
                <div class="kpi-slide">
                    <div class="kpi-card kpi-total">
                        <div class="kpi-icon"><i class="fas fa-bullseye"></i></div>
                        <div class="kpi-value" id="kpi-total">0</div>
                        <div class="kpi-label">Total Engagements</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-realise">
                        <div class="kpi-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="kpi-value" id="kpi-realise">0</div>
                        <div class="kpi-label">‚úÖ R√©alis√©s</div>
                        <div class="kpi-percentage" id="kpi-realise-pct">0%</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-encours">
                        <div class="kpi-icon"><i class="fas fa-sync-alt"></i></div>
                        <div class="kpi-value" id="kpi-encours">0</div>
                        <div class="kpi-label">üîÑ En Cours</div>
                        <div class="kpi-percentage" id="kpi-encours-pct">0%</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-retard">
                        <div class="kpi-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <div class="kpi-value" id="kpi-retard">0</div>
                        <div class="kpi-label">‚ö†Ô∏è En Retard</div>
                        <div class="kpi-percentage" id="kpi-retard-pct">0%</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-delai">
                        <div class="kpi-icon"><i class="fas fa-clock"></i></div>
                        <div class="kpi-value" id="kpi-delai">0j</div>
                        <div class="kpi-label">‚è±Ô∏è D√©lai Moyen Restant</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-taux">
                        <div class="kpi-icon"><i class="fas fa-chart-line"></i></div>
                        <div class="kpi-value" id="kpi-taux">0%</div>
                        <div class="kpi-label">üìà Taux R√©alisation</div>
                    </div>
                </div>
                <div class="kpi-slide">
                    <div class="kpi-card kpi-note">
                        <div class="kpi-icon"><i class="fas fa-star"></i></div>
                        <div class="kpi-value" id="kpi-note">0.0</div>
                        <div class="kpi-label">‚≠ê Note Moyenne</div>
                        <div class="kpi-votes" id="kpi-votes">0 votes</div>
                    </div>
                </div>
            </div>
            <div class="kpi-indicators" id="kpiIndicators"></div>
        </section>

        <!-- ===== PROMESSE DU JOUR ===== -->
        <section class="daily-promise-section" id="daily">
            <div class="daily-header">
                <h2 class="section-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Promesse du Jour</span>
                </h2>
                <div class="daily-date">
                    <i class="fas fa-calendar"></i>
                    <span id="current-date"></span>
                </div>
            </div>
            
            <div class="daily-promise-article" id="dailyPromiseArticle">
                <!-- Contenu g√©n√©r√© par JS -->
            </div>
        </section>

        <!-- ===== CAROUSEL PROMESSES (6 promesses d√©filantes) ===== -->
        <section class="promises-carousel-section" id="promises-carousel">
            <div class="promises-carousel-header">
                <h2 class="section-title">
                    <i class="fas fa-star"></i>
                    <span>Engagements en Vedette</span>
                </h2>
                <div class="carousel-controls">
                    <button class="carousel-control-btn" id="promisesPrevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="carousel-control-btn carousel-play-pause" id="promisesPlayPauseBtn">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button class="carousel-control-btn" id="promisesNextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="promises-carousel-wrapper">
                <div class="promises-carousel-track" id="promisesCarouselTrack">
                    <!-- Cartes g√©n√©r√©es par JS -->
                </div>
            </div>
            <div class="promises-carousel-indicators" id="promisesCarouselIndicators"></div>
        </section>

        <!-- ===== LISTE ENGAGEMENTS (6 affich√©s, reste cach√©s) ===== -->
        <section class="promises-section" id="promises">
            <div class="section-header-modern">
                <h2 class="section-title">
                    <i class="fas fa-tasks"></i>
                    <span>Tous les Engagements</span>
                </h2>
                <div class="section-actions">
                    <button class="filter-toggle-btn" id="filterToggleBtn">
                        <i class="fas fa-filter"></i>
                        <span>Filtres</span>
                    </button>
                </div>
            </div>

            <!-- Filtres -->
            <div class="filters-section" id="filtersSection">
                <div class="filters-container">
                    <div class="filter-group">
                        <label for="filter-status">
                            <i class="fas fa-flag"></i> Statut
                        </label>
                        <select class="filter-select" id="filter-status">
                            <option value="">Tous</option>
                            <option value="R√©alis√©">‚úÖ R√©alis√©</option>
                            <option value="En cours">üîÑ En cours</option>
                            <option value="Non lanc√©">‚è≥ Non lanc√©</option>
                            <option value="En retard">‚ö†Ô∏è En retard</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="filter-domain">
                            <i class="fas fa-layer-group"></i> Domaine
                        </label>
                        <select class="filter-select" id="filter-domain">
                            <option value="">Tous les domaines</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="filter-search">
                            <i class="fas fa-search"></i> Rechercher
                        </label>
                        <input type="text" class="filter-input" id="filter-search" 
                               placeholder="Mot-cl√©...">
                    </div>

                    <div class="filter-actions">
                        <button class="btn-reset" id="resetFilters">
                            <i class="fas fa-redo"></i>
                            <span>R√©initialiser</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- R√©sultats -->
            <div class="promises-results">
                <div class="results-info">
                    <span id="results-count">0 engagement(s)</span>
                </div>
                <div class="promises-grid" id="promisesGrid">
                    <!-- Cartes g√©n√©r√©es par JS -->
                </div>
                <div class="show-more-container" id="showMoreContainer">
                    <button class="btn-show-more" id="showMoreBtn">
                        <i class="fas fa-chevron-down"></i>
                        <span>Afficher plus</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- ===== ACTUALIT√âS ===== -->
        <section class="news-section" id="news">
            <div class="section-header-modern">
                <h2 class="section-title">
                    <i class="fas fa-newspaper"></i>
                    <span>Actualit√©s & Avanc√©es</span>
                </h2>
            </div>
            
            <div class="news-grid" id="newsGrid">
                <!-- G√©n√©r√© par JS -->
            </div>
        </section>

        <!-- ===== REVUE DE PRESSE (Visionneuse photo avec zoom) ===== -->
        <section class="press-section" id="press">
            <div class="section-header-modern">
                <h2 class="section-title">
                    <i class="fas fa-book"></i>
                    <span>Revue de Presse</span>
                </h2>
            </div>
            
            <div class="press-viewer" id="pressViewer">
                <div class="press-viewer-main">
                    <button class="viewer-nav-btn viewer-prev" id="viewerPrevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <div class="viewer-image-container" id="viewerImageContainer">
                        <img id="viewerMainImage" src="" alt="Revue de presse">
                        <div class="viewer-info">
                            <h3 id="viewerTitle"></h3>
                            <p id="viewerDate"></p>
                        </div>
                    </div>
                    
                    <button class="viewer-nav-btn viewer-next" id="viewerNextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="viewer-controls">
                    <button class="viewer-control-btn" id="zoomOutBtn" title="Zoom arri√®re">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="viewer-control-btn" id="zoomResetBtn" title="Taille r√©elle">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="viewer-control-btn" id="zoomInBtn" title="Zoom avant">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="viewer-control-btn" id="fullscreenBtn" title="Plein √©cran">
                        <i class="fas fa-expand-arrows-alt"></i>
                    </button>
                </div>
                
                <div class="viewer-thumbnails" id="viewerThumbnails">
                    <!-- Miniatures g√©n√©r√©es par JS -->
                </div>
            </div>
        </section>

        <!-- ===== NOTATION SERVICES ===== -->
        <section class="rating-section" id="rating">
            <div class="rating-container">
                <div class="rating-header">
                    <div class="rating-icon-large">
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <h2>Noter les Services Publics</h2>
                    <p>Partagez votre exp√©rience avec les services de l'√âtat</p>
                </div>
                
                <form class="rating-form" id="ratingForm">
                    <div class="form-group">
                        <label for="service">
                            <i class="fas fa-building"></i>
                            Service concern√© *
                        </label>
                        <select class="form-select" id="service" required>
                            <option value="">S√©lectionnez un service</option>
                            <option value="administration">Administration G√©n√©rale</option>
                            <option value="sante">Sant√© Publique</option>
                            <option value="education">√âducation Nationale</option>
                            <option value="justice">Justice</option>
                            <option value="interieur">Int√©rieur & S√©curit√©</option>
                            <option value="finance">Finances & Imp√¥ts</option>
                            <option value="transport">Transports</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>

                    <div class="rating-criteria">
                        <div class="criteria-item">
                            <label><i class="fas fa-door-open"></i> Accessibilit√©</label>
                            <div class="stars-container" data-field="accessibility">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                            <input type="hidden" id="accessibility" value="3">
                        </div>

                        <div class="criteria-item">
                            <label><i class="fas fa-hand-holding-heart"></i> Accueil</label>
                            <div class="stars-container" data-field="welcome">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                            <input type="hidden" id="welcome" value="3">
                        </div>

                        <div class="criteria-item">
                            <label><i class="fas fa-bolt"></i> Efficacit√©</label>
                            <div class="stars-container" data-field="efficiency">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                            <input type="hidden" id="efficiency" value="3">
                        </div>

                        <div class="criteria-item">
                            <label><i class="fas fa-eye"></i> Transparence</label>
                            <div class="stars-container" data-field="transparency">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                            <input type="hidden" id="transparency" value="3">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="comment">
                            <i class="fas fa-comment-dots"></i>
                            Commentaire (optionnel)
                        </label>
                        <textarea class="form-textarea" id="comment" rows="4" 
                                  placeholder="Partagez votre exp√©rience..."></textarea>
                    </div>

                    <button type="submit" class="btn-submit">
                        <i class="fas fa-paper-plane"></i>
                        <span>Soumettre ma notation</span>
                    </button>
                </form>
            </div>
        </section>

        <!-- ===== R√âSULTATS DES NOTATIONS ===== -->
        <section class="rating-results-section" id="rating-results">
            <div class="section-header-modern">
                <h2 class="section-title">
                    <i class="fas fa-chart-bar"></i>
                    <span>R√©sultats des Notations</span>
                </h2>
            </div>

            <div class="rating-dashboard">
                <!-- Stats globales -->
                <div class="rating-stats-grid">
                    <div class="rating-stat-card">
                        <div class="stat-icon"><i class="fas fa-vote-yea"></i></div>
                        <div class="stat-value" id="total-ratings">0</div>
                        <div class="stat-label">Votes Total</div>
                    </div>
                    <div class="rating-stat-card">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-value" id="avg-rating">0.0</div>
                        <div class="stat-label">Note Moyenne</div>
                    </div>
                    <div class="rating-stat-card">
                        <div class="stat-icon"><i class="fas fa-building"></i></div>
                        <div class="stat-value" id="services-rated">0</div>
                        <div class="stat-label">Services Not√©s</div>
                    </div>
                </div>

                <!-- Mieux not√©s -->
                <div class="rating-results-card">
                    <h3><i class="fas fa-trophy"></i> Services les Mieux Not√©s</h3>
                    <div id="topRatedServices" class="services-list">
                        <!-- G√©n√©r√© par JS -->
                    </div>
                </div>

                <!-- Derni√®res notations -->
                <div class="rating-results-card">
                    <h3><i class="fas fa-clock"></i> Derni√®res Notations</h3>
                    <div id="recentRatings" class="recent-ratings-list">
                        <!-- G√©n√©r√© par JS -->
                    </div>
                </div>

                <!-- Par service -->
                <div class="rating-results-card">
                    <h3><i class="fas fa-list"></i> D√©tails par Service</h3>
                    <div id="serviceDetails" class="service-details-list">
                        <!-- G√©n√©r√© par JS -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="footer-logo">
                        <div class="footer-logo-icon">üá∏üá≥</div>
                        <div>
                            <h4>LE PROJET S√âN√âGAL</h4>
                            <p>Transparence & Redevabilit√©</p>
                        </div>
                    </div>
                    <p class="footer-description">
                        Plateforme citoyenne ind√©pendante d√©di√©e au suivi transparent des engagements.
                    </p>
                </div>

                <div class="footer-col">
                    <h4>Contact</h4>
                    <div class="footer-links">
                        <a href="mailto:contact@projetbi.org" class="footer-link">
                            <i class="fas fa-envelope"></i>
                            <span>contact@projetbi.org</span>
                        </a>
                        <a href="tel:+221769455253" class="footer-link">
                            <i class="fas fa-phone"></i>
                            <span>+221 76 945 52 53</span>
                        </a>
                        <div class="footer-link">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Dakar, S√©n√©gal</span>
                        </div>
                    </div>
                </div>

                <div class="footer-col">
                    <h4>Suivez-nous</h4>
                    <div class="footer-social">
                        <a href="#" class="social-btn" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-btn" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-btn" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="mailto:contact@projetbi.org" class="social-btn" title="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>

            <div class="footer-divider"></div>

            <div class="footer-bottom">
                <p class="footer-copyright">
                    ¬© 2026 LE PROJET S√âN√âGAL - Tous droits r√©serv√©s
                </p>
            </div>
        </div>
    </footer>

    <!-- Bouton retour en haut -->
    <button class="scroll-to-top" id="scrollToTop" aria-label="Retour en haut">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Notification -->
    <div id="notification-container"></div>

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>
